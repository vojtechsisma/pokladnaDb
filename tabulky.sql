-- MySQL Script generated by MySQL Workbench
-- Mon Mar 29 13:56:51 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering


-- -----------------------------------------------------
-- Schema pokladna
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema pokladna
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pokladna` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_czech_ci;
USE `pokladna`;

-- -----------------------------------------------------
-- Table `pokladna`.`objednavky`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`objednavky` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `celkovaCena` DECIMAL(6,2) NULL,
  `casObjednavky` DATETIME NULL,
  PRIMARY KEY (`id`));


INSERT INTO `objednavky` (`id`, `celkovaCena`, `casObjednavky`) VALUES
(1, '286.00', '2021-04-05 12:31:21'),
(2, '33.00', '2021-04-05 12:31:42'),
(3, '126.00', '2021-04-05 12:31:48'),
(4, '271.00', '2021-04-05 12:32:00'),
(5, '35.00', '2021-04-05 12:32:22'),
(6, '207.00', '2021-04-05 12:32:28'),
(7, '40.00', '2021-04-05 12:32:36'),
(8, '164.00', '2021-04-05 12:43:33'),
(9, '54.00', '2021-04-05 12:44:09'),
(10, '136.00', '2021-04-05 12:44:23');


-- -----------------------------------------------------
-- Table `pokladna`.`pridavky`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`pridavky` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nazev` VARCHAR(45) NULL,
  `cena` DECIMAL(6,2) NULL,
  PRIMARY KEY (`id`));


INSERT INTO `pridavky` (`id`, `nazev`, `cena`) VALUES
(1, 'Slanina', '5.00'),
(2, 'Salát', '2.00'),
(3, 'Rajice', '4.00'),
(4, 'Okurek', '2.00'),
(5, 'Sýr', '2.00'),
(6, 'Kecup', '2.00');
-- -----------------------------------------------------
-- Table `pokladna`.`polozky`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`polozky` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nazev` VARCHAR(45) NULL,
  `cena` DECIMAL(6,2) NULL,
  PRIMARY KEY (`id`));

INSERT INTO `polozky` (`id`, `nazev`, `cena`) VALUES
(1, 'Hamburger', '33.00'),
(2, 'Cheeseburger', '33.00'),
(3, 'McRoyal', '85.00'),
(4, 'BigMac', '85.00'),
(5, 'Hranolky', '35.00');



-- -----------------------------------------------------
-- Table `pokladna`.`polozkyvobjednavce`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`polozkyvobjednavce` (
  `objednavky_id` INT NOT NULL,
  `polozky_id` INT NOT NULL,
  `pridavek_id` INT NOT NULL,
  `mnozstvi` INT NOT NULL,
  PRIMARY KEY (`objednavky_id`,`polozky_id`,`pridavek_id`,`mnozstvi`),
    FOREIGN KEY (`objednavky_id`)
    REFERENCES `pokladna`.`objednavky` (`id`),
    FOREIGN KEY (`polozky_id`)
    REFERENCES `pokladna`.`polozky` (`id`));


INSERT INTO `polozkyvobjednavce` (`objednavky_id`, `polozky_id`, `pridavek_id`, `mnozstvi`) VALUES
(1, 1, 1, 1),
(1, 2, 1, 1),
(1, 3, 1, 1),
(1, 4, 1, 1),
(1, 5, 1, 1),
(2, 1, 2, 1),
(3, 3, 3, 1),
(3, 5, 3, 1),
(4, 1, 4, 1),
(4, 2, 4, 1),
(4, 3, 4, 1),
(4, 4, 4, 1),
(4, 5, 4, 1),
(5, 5, 5, 1),
(6, 1, 6, 1),
(6, 3, 6, 1),
(6, 4, 6, 1),
(7, 1, 7, 1),
(8, 1, 8, 1),
(8, 2, 8, 1),
(8, 3, 8, 1),
(9, 1, 9, 1),
(10, 1, 10, 1),
(10, 3, 10, 1);

-- -----------------------------------------------------
-- Table `pokladna`.`pridavkyvpolozce`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`pridavkyvpolozce` (
  `polozky_id` INT NOT NULL,
  `pridavky_id` INT NOT NULL,
  PRIMARY KEY (`polozky_id`, `pridavky_id`),
    FOREIGN KEY (`polozky_id`)
    REFERENCES `pokladna`.`polozky` (`id`),
    FOREIGN KEY (`pridavky_id`)
    REFERENCES `pokladna`.`pridavky` (`id`));


INSERT INTO `pridavkyvpolozce` (`polozky_id`, `pridavky_id`) VALUES
(1, 1),
(1, 2),
(2, 3),
(3, 4),
(4, 5),
(5, 6);

-- -----------------------------------------------------
-- Table `pokladna`.`pridavkyvobjednavce`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pokladna`.`pridavkyvobjednavce` (
  `id_pridavku` INT NOT NULL,
  `pridavek_id` INT NOT NULL,
  `polozka_id` INT NOT NULL,
  `mnozstvi` INT NOT NULL,
  PRIMARY KEY (`id_pridavku`,`pridavek_id`,`mnozstvi`),
    FOREIGN KEY (`pridavek_id`)
    REFERENCES `pokladna`.`polozkyvobjednavce` (`pridavek_id`),
    FOREIGN KEY (`id_pridavku`)
    REFERENCES `pokladna`.`pridavky` (`id`));

INSERT INTO `pridavkyvobjednavce` (`id_pridavku`, `pridavek_id`, `polozka_id`, `mnozstvi`) VALUES
(1, 1, 1, 1),
(2, 1, 1, 1),
(2, 1, 1, 2),
(3, 1, 2, 1),
(6, 1, 5, 1),
(4, 3, 3, 1),
(4, 3, 3, 2),
(4, 3, 3, 3),
(5, 6, 4, 1),
(5, 6, 4, 2),
(1, 7, 1, 1),
(2, 7, 1, 1),
(1, 8, 1, 1),
(2, 8, 1, 1),
(3, 8, 2, 1),
(4, 8, 3, 1),
(1, 9, 1, 1),
(1, 9, 1, 2),
(1, 9, 1, 3),
(2, 9, 1, 3),
(2, 9, 1, 4),
(2, 9, 1, 5),
(1, 10, 1, 1),
(1, 10, 1, 2),
(2, 10, 1, 2),
(2, 10, 1, 3),
(4, 10, 3, 1),
(4, 10, 3, 2);